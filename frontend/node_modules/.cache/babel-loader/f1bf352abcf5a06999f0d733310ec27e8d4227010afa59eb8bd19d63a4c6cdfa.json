{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{Link}from'react-router-dom';import'./Catalogo.css';import{useCart}from'../context/CartContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Catalogo(){const[productos,setProductos]=useState([]);const{mensajeProducto,addToCart}=useCart();useEffect(()=>{axios.get('https://tiendabikes-1.onrender.com/api/productos/').then(res=>setProductos(res.data)).catch(err=>console.error(err));},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:800,margin:'20px auto',textAlign:'center'},children:[mensajeProducto&&/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#d4edda',color:'#155724',padding:'10px',borderRadius:'5px',marginBottom:'20px',fontWeight:'bold'},children:mensajeProducto}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:'center',marginBottom:'20px'},children:\"Cat\\xE1logo de Productos\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'flex-end',marginBottom:'20px'},children:/*#__PURE__*/_jsx(Link,{to:\"/agregar\",children:/*#__PURE__*/_jsx(\"button\",{style:{padding:'10px 15px',backgroundColor:'#28a745',color:'white',border:'none',borderRadius:'5px',fontWeight:'bold',cursor:'pointer'},children:\"+ Agregar producto\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"productos-grid\",style:{display:'grid',gridTemplateColumns:'repeat(auto-fit,minmax(200px,1fr))',gap:'20px'},children:productos.map(p=>/*#__PURE__*/_jsxs(\"div\",{className:\"producto-card\",style:{border:'1px solid #ddd',padding:'15px',borderRadius:'5px',textAlign:'left'},children:[/*#__PURE__*/_jsx(\"h3\",{children:p.nombre}),p.imagen&&/*#__PURE__*/_jsx(\"img\",{src:p.imagen.startsWith('http')?p.imagen:\"http://localhost:8000\".concat(p.imagen),alt:p.nombre,style:{width:'100%',height:'150px',objectFit:'cover',borderRadius:'4px'}}),/*#__PURE__*/_jsx(\"p\",{children:p.descripcion}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Precio: \"}),\"$\",p.precio]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Stock:\"}),\" \",p.stock]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addToCart(p),style:{marginTop:'10px',backgroundColor:'#007bff',color:'white',border:'none',padding:'8px 12px',borderRadius:'4px',cursor:'pointer'},children:\"A\\xF1adir al carrito\"})]},p.id))})]})]});}export default Catalogo;","map":{"version":3,"names":["React","useEffect","useState","axios","Link","useCart","jsx","_jsx","jsxs","_jsxs","Catalogo","productos","setProductos","mensajeProducto","addToCart","get","then","res","data","catch","err","console","error","style","maxWidth","margin","textAlign","children","backgroundColor","color","padding","borderRadius","marginBottom","fontWeight","display","justifyContent","to","border","cursor","className","gridTemplateColumns","gap","map","p","nombre","imagen","src","startsWith","concat","alt","width","height","objectFit","descripcion","precio","stock","onClick","marginTop","id"],"sources":["C:/Users/ptrej/tienda_repuestos/frontend/src/components/Catalogo.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport './Catalogo.css';\r\nimport { useCart } from '../context/CartContext';\r\n\r\nfunction Catalogo() {\r\n  const [productos, setProductos] = useState([]);\r\n  const { mensajeProducto , addToCart } = useCart();\r\n\r\n  useEffect(() => {\r\n    axios.get('https://tiendabikes-1.onrender.com/api/productos/')\r\n      .then(res => setProductos(res.data))\r\n      .catch(err => console.error(err));\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ maxWidth: 800, margin: '20px auto', textAlign: 'center' }}>\r\n      {mensajeProducto && (\r\n        <div\r\n          style={{\r\n            backgroundColor: '#d4edda',\r\n            color: '#155724',\r\n            padding: '10px',\r\n            borderRadius: '5px',\r\n            marginBottom: '20px',\r\n            fontWeight: 'bold',\r\n          }}\r\n        >\r\n          {mensajeProducto}\r\n        </div>\r\n      )}\r\n\r\n      <div style={{ padding: '20px' }}>\r\n        <h1 style={{ textAlign: 'center', marginBottom: '20px' }}>Catálogo de Productos</h1>\r\n\r\n        <div style={{ display: 'flex', justifyContent: 'flex-end', marginBottom: '20px' }}>\r\n          <Link to=\"/agregar\">\r\n            <button style={{\r\n              padding: '10px 15px',\r\n              backgroundColor: '#28a745',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '5px',\r\n              fontWeight: 'bold',\r\n              cursor: 'pointer'\r\n            }}>\r\n              + Agregar producto\r\n            </button>\r\n          </Link>\r\n        </div>\r\n\r\n        <div className=\"productos-grid\" style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit,minmax(200px,1fr))', gap: '20px'}}>\r\n          {productos.map(p => (\r\n            <div key={p.id} className=\"producto-card\" style={{border: '1px solid #ddd', padding: '15px', borderRadius: '5px', textAlign: 'left'}}>\r\n              <h3>{p.nombre}</h3>\r\n              {p.imagen && (\r\n                <img\r\n                  src={p.imagen.startsWith('http') ? p.imagen : `http://localhost:8000${p.imagen}`}\r\n                  alt={p.nombre}\r\n                  style={{ width: '100%', height: '150px', objectFit: 'cover', borderRadius: '4px' }}\r\n                />\r\n              )}\r\n              <p>{p.descripcion}</p>\r\n              <p><strong>Precio: </strong>${p.precio}</p>\r\n              <p><strong>Stock:</strong> {p.stock}</p>\r\n              <button \r\n                onClick={() => addToCart(p)} \r\n                style={{\r\n                  marginTop: '10px',\r\n                  backgroundColor: '#007bff',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  padding: '8px 12px',\r\n                  borderRadius: '4px',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                Añadir al carrito\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Catalogo;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}