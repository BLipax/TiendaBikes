{"ast":null,"code":"import _objectSpread from\"C:/Users/ptrej/tienda_repuestos/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const CartContext=/*#__PURE__*/createContext();export function CartProvider(_ref){let{children}=_ref;const[cart,setCart]=useState([]);const[mensajeProducto,setMensajeProducto]=useState('');// Agrega producto al carrito y lanza notificación\nfunction addToCart(producto){setCart(prev=>{// Lógica para agregar producto, por ejemplo sumar si ya está\nconst existing=prev.find(item=>item.id===producto.id);if(existing){return prev.map(item=>item.id===producto.id?_objectSpread(_objectSpread({},item),{},{cantidad:item.cantidad+1}):item);}else{return[...prev,_objectSpread(_objectSpread({},producto),{},{cantidad:1})];}});// Mostrar mensaje por 3 segundos\nsetMensajeProducto('Producto agregado correctamente');setTimeout(()=>setMensajeProducto(''),3000);}// Funciones para quitar, actualizar cantidad, limpiar carrito, etc.\nfunction removeFromCart(id){setCart(prev=>prev.filter(item=>item.id!==id));}function updateQuantity(id,cantidad){setCart(prev=>prev.map(item=>item.id===id?_objectSpread(_objectSpread({},item),{},{cantidad:Number(cantidad)}):item));}function clearCart(){setCart([]);}const total=cart.reduce((acc,item)=>acc+item.precio*item.cantidad,0);return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart,total,addToCart,removeFromCart,updateQuantity,clearCart,mensajeProducto},children:children});}export function useCart(){return useContext(CartContext);}","map":{"version":3,"names":["React","createContext","useContext","useState","jsx","_jsx","CartContext","CartProvider","_ref","children","cart","setCart","mensajeProducto","setMensajeProducto","addToCart","producto","prev","existing","find","item","id","map","_objectSpread","cantidad","setTimeout","removeFromCart","filter","updateQuantity","Number","clearCart","total","reduce","acc","precio","Provider","value","useCart"],"sources":["C:/Users/ptrej/tienda_repuestos/frontend/src/context/CartContext.js"],"sourcesContent":["import React, { createContext, useContext, useState } from 'react';\r\n\r\nconst CartContext = createContext();\r\n\r\nexport function CartProvider({ children }) {\r\n  const [cart, setCart] = useState([]);\r\n  const [mensajeProducto, setMensajeProducto] = useState('');\r\n\r\n  // Agrega producto al carrito y lanza notificación\r\n  function addToCart(producto) {\r\n    setCart(prev => {\r\n      // Lógica para agregar producto, por ejemplo sumar si ya está\r\n      const existing = prev.find(item => item.id === producto.id);\r\n      if (existing) {\r\n        return prev.map(item =>\r\n          item.id === producto.id ? { ...item, cantidad: item.cantidad + 1 } : item\r\n        );\r\n      } else {\r\n        return [...prev, { ...producto, cantidad: 1 }];\r\n      }\r\n    });\r\n\r\n    // Mostrar mensaje por 3 segundos\r\n    setMensajeProducto('Producto agregado correctamente');\r\n    setTimeout(() => setMensajeProducto(''), 3000);\r\n  }\r\n\r\n  // Funciones para quitar, actualizar cantidad, limpiar carrito, etc.\r\n  function removeFromCart(id) {\r\n    setCart(prev => prev.filter(item => item.id !== id));\r\n  }\r\n\r\n  function updateQuantity(id, cantidad) {\r\n    setCart(prev =>\r\n      prev.map(item => (item.id === id ? { ...item, cantidad: Number(cantidad) } : item))\r\n    );\r\n  }\r\n\r\n  function clearCart() {\r\n    setCart([]);\r\n  }\r\n\r\n  const total = cart.reduce((acc, item) => acc + item.precio * item.cantidad, 0);\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        cart,\r\n        total,\r\n        addToCart,\r\n        removeFromCart,\r\n        updateQuantity,\r\n        clearCart,\r\n        mensajeProducto,\r\n      }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useCart() {\r\n  return useContext(CartContext);\r\n}\r\n"],"mappings":"6HAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEnE,KAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,CAAC,CAEnC,MAAO,SAAS,CAAAM,YAAYA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACS,eAAe,CAAEC,kBAAkB,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAE1D;AACA,QAAS,CAAAW,SAASA,CAACC,QAAQ,CAAE,CAC3BJ,OAAO,CAACK,IAAI,EAAI,CACd;AACA,KAAM,CAAAC,QAAQ,CAAGD,IAAI,CAACE,IAAI,CAACC,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKL,QAAQ,CAACK,EAAE,CAAC,CAC3D,GAAIH,QAAQ,CAAE,CACZ,MAAO,CAAAD,IAAI,CAACK,GAAG,CAACF,IAAI,EAClBA,IAAI,CAACC,EAAE,GAAKL,QAAQ,CAACK,EAAE,CAAAE,aAAA,CAAAA,aAAA,IAAQH,IAAI,MAAEI,QAAQ,CAAEJ,IAAI,CAACI,QAAQ,CAAG,CAAC,GAAKJ,IACvE,CAAC,CACH,CAAC,IAAM,CACL,MAAO,CAAC,GAAGH,IAAI,CAAAM,aAAA,CAAAA,aAAA,IAAOP,QAAQ,MAAEQ,QAAQ,CAAE,CAAC,GAAG,CAChD,CACF,CAAC,CAAC,CAEF;AACAV,kBAAkB,CAAC,iCAAiC,CAAC,CACrDW,UAAU,CAAC,IAAMX,kBAAkB,CAAC,EAAE,CAAC,CAAE,IAAI,CAAC,CAChD,CAEA;AACA,QAAS,CAAAY,cAAcA,CAACL,EAAE,CAAE,CAC1BT,OAAO,CAACK,IAAI,EAAIA,IAAI,CAACU,MAAM,CAACP,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKA,EAAE,CAAC,CAAC,CACtD,CAEA,QAAS,CAAAO,cAAcA,CAACP,EAAE,CAAEG,QAAQ,CAAE,CACpCZ,OAAO,CAACK,IAAI,EACVA,IAAI,CAACK,GAAG,CAACF,IAAI,EAAKA,IAAI,CAACC,EAAE,GAAKA,EAAE,CAAAE,aAAA,CAAAA,aAAA,IAAQH,IAAI,MAAEI,QAAQ,CAAEK,MAAM,CAACL,QAAQ,CAAC,GAAKJ,IAAK,CACpF,CAAC,CACH,CAEA,QAAS,CAAAU,SAASA,CAAA,CAAG,CACnBlB,OAAO,CAAC,EAAE,CAAC,CACb,CAEA,KAAM,CAAAmB,KAAK,CAAGpB,IAAI,CAACqB,MAAM,CAAC,CAACC,GAAG,CAAEb,IAAI,GAAKa,GAAG,CAAGb,IAAI,CAACc,MAAM,CAAGd,IAAI,CAACI,QAAQ,CAAE,CAAC,CAAC,CAE9E,mBACElB,IAAA,CAACC,WAAW,CAAC4B,QAAQ,EACnBC,KAAK,CAAE,CACLzB,IAAI,CACJoB,KAAK,CACLhB,SAAS,CACTW,cAAc,CACdE,cAAc,CACdE,SAAS,CACTjB,eACF,CAAE,CAAAH,QAAA,CAEDA,QAAQ,CACW,CAAC,CAE3B,CAEA,MAAO,SAAS,CAAA2B,OAAOA,CAAA,CAAG,CACxB,MAAO,CAAAlC,UAAU,CAACI,WAAW,CAAC,CAChC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}